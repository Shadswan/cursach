{"ast":null,"code":"import authService from '@/api/auth.service';\nimport { ref } from 'vue';\nexport default {\n  __name: 'formAuth',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const form = ref({\n      name: null,\n      email: null,\n      password: null\n    });\n    const visible = ref(true);\n    const handleSubmit = async () => {\n      try {\n        const response = await authService.login(form.value);\n        console.log('Успешный вход', response.data);\n        localStorage.setItem('token', response.data.token); //save token in storage \n\n        //routing\n        // router.push('https://ru.pinterest.com/') //change\n      } catch (err) {\n        //error.value = err.response?.data?.message || 'Ошибка авторизации';\n        console.error('Ошибка', err);\n      }\n    };\n    const __returned__ = {\n      form,\n      visible,\n      handleSubmit,\n      get authService() {\n        return authService;\n      },\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["authService","ref","form","name","email","password","visible","handleSubmit","response","login","value","console","log","data","localStorage","setItem","token","err","error"],"sources":["/home/shad/chat-diplom/front/chat/src/components/formAuth.vue"],"sourcesContent":["<script setup>\nimport authService from '@/api/auth.service';\nimport { ref } from 'vue';\nconst form = ref({\n    name: null,\n    email: null,\n    password: null,\n});\n\nconst visible = ref(true);\n\nconst handleSubmit = async () => {\n    try {\n        const response = await authService.login(form.value);\n        console.log('Успешный вход', response.data);\n        localStorage.setItem('token', response.data.token); //save token in storage \n\n        //routing\n        // router.push('https://ru.pinterest.com/') //change\n\n    } catch (err) {\n        //error.value = err.response?.data?.message || 'Ошибка авторизации';\n        console.error('Ошибка', err);\n    }\n};\n\n</script>\n\n<template>\n    <div class=\"form-auth\">\n        <button v-on:click=\"visible = !visible\">{{ visible ? 'Еще нет аккаунта?' : 'Войти' }}</button>\n        <div id=\"login\">\n            <div v-show=\"visible\">\n                <h2>Вход</h2>\n                <form @submit.prevent=\"handleSubmit\">\n                    <input required v-model=\"form.email\" type=\"email\" placeholder=\"email\">\n                    <input required v-model=\"form.password\" type=\"password\" placeholder=\"password\">\n                    <button type=\"submit\">\n                        Войти\n                    </button>\n                    <!-- <div v-if=\"error\">{{ error }}</div> -->\n                </form>\n            </div>\n        </div>\n        <div id=\"reg\">\n            <div v-show=\"!visible\">\n                <h2>Регистрация</h2>\n                <form @submit.prevent=\"handleSubmit\">\n                    <input required v-model=\"form.name\" type=\"text\" placeholder=\"name\">\n                    <input required v-model=\"form.email\" type=\"email\" placeholder=\"email\">\n                    <input required v-model=\"form.password\" type=\"password\" placeholder=\"password\">\n                    <button type=\"submit\">Зарегистрироваться</button>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n.form-auth {\n    color: white;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    background-color: rgb(27, 24, 51);\n    border: solid rgb(27, 24, 51);\n    border-radius: 2vh;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    input {\n        border: none;\n        padding: 1vh;\n        margin-bottom: 2vh;\n    }\n\n    button {\n        background-color: white;\n        border: 1vh solid white;\n        border-radius: 1vh;\n    }\n}\n</style>"],"mappings":"AACA,OAAOA,WAAW,MAAM,oBAAoB;AAC5C,SAASC,GAAG,QAAQ,KAAK;;;;;;;IACzB,MAAMC,IAAI,GAAGD,GAAG,CAAC;MACbE,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACd,CAAC,CAAC;IAEF,MAAMC,OAAO,GAAGL,GAAG,CAAC,IAAI,CAAC;IAEzB,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMR,WAAW,CAACS,KAAK,CAACP,IAAI,CAACQ,KAAK,CAAC;QACpDC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,QAAQ,CAACK,IAAI,CAAC;QAC3CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEP,QAAQ,CAACK,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;;QAEpD;QACA;MAEJ,CAAC,CAAC,OAAOC,GAAG,EAAE;QACV;QACAN,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAED,GAAG,CAAC;MAChC;IACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}