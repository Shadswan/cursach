{"ast":null,"code":"import authService from '@/api/auth.service';\nimport { ref } from 'vue';\nconst form = ref({\n  name: null,\n  email: null,\n  password: null\n});\nconst handleSubmit = async () => {\n  try {\n    const response = await authService.login(form.value);\n    console.log('Успешный вход', response.data);\n    localStorage.setItem('token', response.data.token); //save token in storage \n\n    //routing\n    // router.push('https://ru.pinterest.com/') //change\n  } catch (err) {\n    //error.value = err.response?.data?.message || 'Ошибка авторизации';\n    console.error('Ошибка', err);\n  }\n};\nexport default {\n  template: '<input>',\n  data() {\n    return {\n      visible: true\n    };\n  }\n};","map":{"version":3,"names":["authService","ref","form","name","email","password","handleSubmit","response","login","value","console","log","data","localStorage","setItem","token","err","error","template","visible"],"sources":["/home/shad/chat-diplom/front/chat/src/components/formAuth.vue"],"sourcesContent":["<script>\nimport authService from '@/api/auth.service';\nimport { ref } from 'vue';\nconst form = ref({\n    name: null,\n    email: null,\n    password: null,\n});\nconst handleSubmit = async () => {\n    try {\n        const response = await authService.login(form.value);\n        console.log('Успешный вход', response.data);\n        localStorage.setItem('token', response.data.token); //save token in storage \n\n        //routing\n       // router.push('https://ru.pinterest.com/') //change\n\n    } catch(err) {\n        //error.value = err.response?.data?.message || 'Ошибка авторизации';\n        console.error('Ошибка', err);\n    } \n};\nexport default {\n    template:\n        '<input>'\n    ,\n    data() {\n        return {\n            visible: true,\n        }\n    },\n}\n</script>\n\n<template>\n    <div class=\"form-auth\">\n        <button v-on:click=\"visible = !visible\">{{ visible ? 'Еще нет аккаунта?' : 'Войти' }}</button>\n        <div id=\"login\">\n            <div v-show=\"visible\">\n                <h2>Вход</h2>\n                <form @submit.prevent=\"handleSubmit\">\n                    <input required v-model=\"form.email\" type=\"email\" placeholder=\"email\">\n                    <input required v-model=\"form.password\" type=\"password\" placeholder=\"password\">\n                    <button type=\"submit\">\n                        Войти\n                    </button>\n                    <!-- <div v-if=\"error\">{{ error }}</div> -->\n                </form>\n            </div>\n        </div>\n        <div id=\"reg\">\n            <div v-show=\"!visible\">\n                <h2>Регистрация</h2>\n                <form @submit.prevent=\"handleSubmit\">\n                    <input required v-model=\"form.name\" type=\"text\" placeholder=\"name\">\n                    <input required v-model=\"form.email\" type=\"email\" placeholder=\"email\">\n                    <input required v-model=\"form.password\" type=\"password\" placeholder=\"password\">\n                    <button type=\"submit\">Зарегистрироваться</button>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n.form-auth {\n    color: white;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    background-color: rgb(27, 24, 51);\n    border: solid rgb(27, 24, 51);\n    border-radius: 2vh;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    input {\n        border: none;\n        padding: 1vh;\n        margin-bottom: 2vh;\n    }\n\n    button {\n        background-color: white;\n        border: 1vh solid white;\n        border-radius: 1vh;\n    }\n}\n</style>"],"mappings":"AACA,OAAOA,WAAU,MAAO,oBAAoB;AAC5C,SAASC,GAAE,QAAS,KAAK;AACzB,MAAMC,IAAG,GAAID,GAAG,CAAC;EACbE,IAAI,EAAE,IAAI;EACVC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE;AACd,CAAC,CAAC;AACF,MAAMC,YAAW,GAAI,MAAAA,CAAA,KAAY;EAC7B,IAAI;IACA,MAAMC,QAAO,GAAI,MAAMP,WAAW,CAACQ,KAAK,CAACN,IAAI,CAACO,KAAK,CAAC;IACpDC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,QAAQ,CAACK,IAAI,CAAC;IAC3CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEP,QAAQ,CAACK,IAAI,CAACG,KAAK,CAAC,EAAE;;IAEpD;IACD;EAEH,EAAE,OAAMC,GAAG,EAAE;IACT;IACAN,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAED,GAAG,CAAC;EAChC;AACJ,CAAC;AACD,eAAe;EACXE,QAAQ,EACJ,SAAQ;EAEZN,IAAIA,CAAA,EAAG;IACH,OAAO;MACHO,OAAO,EAAE;IACb;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}